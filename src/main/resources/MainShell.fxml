<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Controllers.MainShellController"
            stylesheets="@styles.css">

    <!-- TOP BAR -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20" styleClass="top-bar">
            <HBox alignment="CENTER_LEFT" spacing="12">
                <ImageView fitHeight="36" fitWidth="36" preserveRatio="true">
                    <image><Image url="@images/logo.jpg"/></image>
                </ImageView>
                <Label text="Talent Bridge" styleClass="logo-text"/>
            </HBox>
            <Region HBox.hgrow="ALWAYS"/>
            <HBox alignment="CENTER_RIGHT" spacing="14">
                <VBox alignment="CENTER_RIGHT" spacing="2">
                    <Label fx:id="lblUserName" text="" styleClass="user-name"/>
                    <Label fx:id="lblUserRole" text="" styleClass="user-role"/>
                </VBox>
                <Button fx:id="btnUserProfile" text="ðŸ‘¤ Profile"
                        styleClass="profile-button" onAction="#handleUserProfile"/>
                <Button fx:id="btnDisconnect" text="â» Disconnect"
                        styleClass="disconnect-button" onAction="#handleDisconnect"/>
            </HBox>
        </HBox>
    </top>

    <!-- LEFT SIDEBAR -->
    <left>
        <VBox prefWidth="220" spacing="0" styleClass="sidebar">
            <VBox spacing="2" style="-fx-padding: 20 10 10 10;">
                <Label text="NAVIGATION" styleClass="sidebar-section-label"/>

                <Button fx:id="btnApplications" onAction="#handleApplicationsNav"
                        text="ðŸ“‹  Applications"
                        styleClass="sidebar-button" maxWidth="Infinity">
                    <VBox.margin><Insets top="6"/></VBox.margin>
                </Button>

                <Button fx:id="btnJobOffers" onAction="#handleJobOffersNav"
                        text="ðŸ’¼  Job Offers"
                        styleClass="sidebar-button" maxWidth="Infinity"/>

                <Button fx:id="btnInterviews" onAction="#handleInterviewsNav"
                        text="ðŸ“…  Interviews"
                        styleClass="sidebar-button" maxWidth="Infinity"/>

                <Button fx:id="btnEvents" onAction="#handleEventsNav"
                        text="ðŸŽ¯  Events"
                        styleClass="sidebar-button" maxWidth="Infinity"
                        visible="true" managed="true"/>

                <Button fx:id="btnPastEvents" onAction="#handlePastEventsNav"
                        text="ðŸ“†  Past Events"
                        styleClass="sidebar-button" maxWidth="Infinity"
                        visible="false" managed="false"/>

                <Button fx:id="btnDashboard" onAction="#handleDashboardNav"
                        text="ðŸ›¡  Admin Dashboard"
                        styleClass="sidebar-button" maxWidth="Infinity"
                        visible="false" managed="false"/>
            </VBox>

            <Region VBox.vgrow="ALWAYS"/>

            <VBox spacing="6" style="-fx-padding: 10 10 20 10;">
                <Separator styleClass="sidebar-separator"/>
                <Button fx:id="btnFullscreenToggle" onAction="#handleFullscreenToggle"
                        text="â›¶  Fullscreen"
                        styleClass="sidebar-bottom-button" maxWidth="Infinity"/>
            </VBox>
        </VBox>
    </left>

    <!-- CONTENT AREA -->
    <center>
        <StackPane fx:id="contentArea" style="-fx-background-color: #F5F6F8; -fx-padding: 24;"/>
    </center>

</BorderPane>

