<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx/8.0.171"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Controllers.events.CandidateDashboardController"
            style="-fx-background-color: #F0F4FA;">

    <center>
        <StackPane>
            <!-- â•â•â• EVENTS BROWSE VIEW â•â•â• -->
            <VBox fx:id="eventsView" spacing="20">
                <padding><Insets top="24" right="28" bottom="20" left="28"/></padding>
                <children>
                    <HBox alignment="CENTER_LEFT" spacing="12">
                        <Label text="ðŸŽª  Ã‰vÃ©nements Disponibles"
                               style="-fx-font-size:22px; -fx-font-weight:700; -fx-text-fill:#1E293B;"/>
                        <Pane HBox.hgrow="ALWAYS"/>
                        <Button text="â†»  Actualiser" onAction="#goToEvents"
                                style="-fx-background-color:#EBF3FF; -fx-text-fill:#1565C0;
                                       -fx-font-weight:600; -fx-background-radius:8;
                                       -fx-padding:8 16; -fx-cursor:hand;
                                       -fx-border-color:#BBDEFB; -fx-border-width:1; -fx-border-radius:8;"/>
                        <Button text="ðŸ“‹  Mes Inscriptions" onAction="#goToInterviews"
                                style="-fx-background-color:#F8FAFF; -fx-text-fill:#475569;
                                       -fx-background-radius:8; -fx-padding:8 16; -fx-cursor:hand;
                                       -fx-border-color:#E4EBF5; -fx-border-width:1; -fx-border-radius:8;"/>
                    </HBox>
                    <Label text="Parcourez les Ã©vÃ©nements de recrutement et inscrivez-vous."
                           style="-fx-font-size:13px; -fx-text-fill:#64748B;"/>

                    <ScrollPane fitToHeight="true" minHeight="280" prefHeight="340"
                                hbarPolicy="AS_NEEDED" vbarPolicy="NEVER"
                                style="-fx-background-color:transparent; -fx-background:transparent;
                                       -fx-border-color:transparent;" VBox.vgrow="ALWAYS">
                        <content>
                            <HBox fx:id="eventsHBox" spacing="18"
                                  style="-fx-padding:8 4 12 4; -fx-background-color:transparent;"/>
                        </content>
                    </ScrollPane>

                    <HBox alignment="CENTER_RIGHT" spacing="12">
                        <Button onAction="#handleApply" text="âœ…  S'inscrire Ã  l'Ã©vÃ©nement sÃ©lectionnÃ©"
                                style="-fx-background-color:#1565C0; -fx-text-fill:white;
                                       -fx-font-weight:700; -fx-font-size:14px;
                                       -fx-background-radius:10; -fx-padding:12 24; -fx-cursor:hand;"/>
                    </HBox>
                </children>
            </VBox>

            <!-- â•â•â• MY REGISTRATIONS VIEW â•â•â• -->
            <VBox fx:id="registrationsView" spacing="20" visible="false" managed="false">
                <padding><Insets top="24" right="28" bottom="20" left="28"/></padding>
                <children>
                    <HBox alignment="CENTER_LEFT" spacing="12">
                        <Label text="ðŸ“‹  Mes Inscriptions aux Ã‰vÃ©nements"
                               style="-fx-font-size:22px; -fx-font-weight:700; -fx-text-fill:#1E293B;"/>
                        <Pane HBox.hgrow="ALWAYS"/>
                        <Button text="â†»  Actualiser" onAction="#goToInterviews"
                                style="-fx-background-color:#EBF3FF; -fx-text-fill:#1565C0;
                                       -fx-font-weight:600; -fx-background-radius:8;
                                       -fx-padding:8 16; -fx-cursor:hand;
                                       -fx-border-color:#BBDEFB; -fx-border-width:1; -fx-border-radius:8;"/>
                        <Button text="â†  Retour aux Ã©vÃ©nements" onAction="#goToEvents"
                                style="-fx-background-color:#F8FAFF; -fx-text-fill:#475569;
                                       -fx-background-radius:8; -fx-padding:8 16; -fx-cursor:hand;
                                       -fx-border-color:#E4EBF5; -fx-border-width:1; -fx-border-radius:8;"/>
                    </HBox>
                    <TableView fx:id="myRegistrationsTable" VBox.vgrow="ALWAYS"
                               style="-fx-background-color:white; -fx-background-radius:12;
                                      -fx-border-color:#E4EBF5; -fx-border-width:1; -fx-border-radius:12;">
                        <columns>
                            <TableColumn fx:id="regEventTitleCol" prefWidth="280" text="Ã‰vÃ©nement"/>
                            <TableColumn fx:id="regDateCol"       prefWidth="200" text="Date d'inscription"/>
                            <TableColumn fx:id="regStatusCol"     prefWidth="140" text="Statut"/>
                        </columns>
                    </TableView>
                    <HBox alignment="CENTER_RIGHT">
                        <Button onAction="#handleCancelRegistration" text="âŒ  Annuler l'inscription sÃ©lectionnÃ©e"
                                style="-fx-background-color:#FEF2F2; -fx-text-fill:#DC2626;
                                       -fx-font-weight:700; -fx-background-radius:10;
                                       -fx-border-color:#FECACA; -fx-border-width:1; -fx-border-radius:10;
                                       -fx-padding:10 20; -fx-cursor:hand;"/>
                    </HBox>
                </children>
            </VBox>
        </StackPane>
    </center>
</BorderPane>


