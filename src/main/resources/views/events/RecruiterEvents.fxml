<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="Controllers.events.RecruiterDashboardController"
            style="-fx-background-color: #F0F4FA;">

    <center>
        <StackPane>
            <!-- â•â•â• EVENTS VIEW â•â•â• -->
            <VBox fx:id="eventsView" spacing="20.0">
                <padding><Insets top="24" right="28" bottom="20" left="28"/></padding>
                <children>
                    <!-- Header -->
                    <HBox alignment="CENTER_LEFT" spacing="12">
                        <Label text="ðŸ“…  Mes Ã‰vÃ©nements"
                               style="-fx-font-size:22px; -fx-font-weight:700; -fx-text-fill:#1E293B;"/>
                        <Pane HBox.hgrow="ALWAYS"/>
                        <Button text="â†»  Actualiser" onAction="#goToEvents"
                                style="-fx-background-color:#EBF3FF; -fx-text-fill:#1565C0;
                                       -fx-font-weight:600; -fx-background-radius:8;
                                       -fx-padding:8 16; -fx-cursor:hand;
                                       -fx-border-color:#BBDEFB; -fx-border-width:1; -fx-border-radius:8;"/>
                        <Button text="+  Nouvel Ã‰vÃ©nement" onAction="#handleClear"
                                style="-fx-background-color:#1565C0; -fx-text-fill:white;
                                       -fx-font-weight:700; -fx-background-radius:8;
                                       -fx-padding:8 18; -fx-cursor:hand;"/>
                    </HBox>

                    <!-- Events horizontal scroll -->
                    <ScrollPane fitToHeight="true" minHeight="220.0" prefHeight="260.0"
                                hbarPolicy="AS_NEEDED" vbarPolicy="NEVER"
                                style="-fx-background-color:transparent; -fx-background:transparent;
                                       -fx-border-color:transparent;" VBox.vgrow="NEVER">
                        <content>
                            <HBox fx:id="eventsHBox" spacing="18"
                                  style="-fx-padding:8 4 12 4; -fx-background-color:transparent;"/>
                        </content>
                    </ScrollPane>

                    <!-- Form card -->
                    <VBox spacing="12"
                          style="-fx-background-color:white; -fx-background-radius:14;
                                 -fx-border-color:#E4EBF5; -fx-border-width:1; -fx-border-radius:14;
                                 -fx-padding:20 24;
                                 -fx-effect:dropshadow(gaussian,rgba(100,150,220,0.07),10,0,0,2);">
                        <Label text="CrÃ©er / Modifier un Ã©vÃ©nement"
                               style="-fx-font-size:15px; -fx-font-weight:700; -fx-text-fill:#1E293B;"/>
                        <HBox spacing="12" alignment="CENTER_LEFT">
                            <VBox HBox.hgrow="ALWAYS" spacing="4">
                                <TextField fx:id="titleField" promptText="Titre de l'Ã©vÃ©nement"
                                           style="-fx-background-radius:8; -fx-border-radius:8;
                                                  -fx-border-color:#E4EBF5; -fx-padding:8 12;
                                                  -fx-font-size:13px;"/>
                                <Label fx:id="titleErrorLabel" style="-fx-font-size:11px; -fx-text-fill:#DC2626;" managed="true" minHeight="0"/>
                            </VBox>
                            <VBox spacing="4">
                                <ComboBox fx:id="typeCombo" prefWidth="160" promptText="Type d'Ã©vÃ©nement"
                                          style="-fx-background-radius:8; -fx-border-radius:8;
                                                 -fx-border-color:#E4EBF5; -fx-font-size:13px;"/>
                                <Label fx:id="typeErrorLabel" style="-fx-font-size:11px; -fx-text-fill:#DC2626;" managed="true" minHeight="0"/>
                            </VBox>
                        </HBox>
                        <HBox spacing="12">
                            <VBox HBox.hgrow="ALWAYS" spacing="4">
                                <TextField fx:id="locationField" promptText="Lieu"
                                           style="-fx-background-radius:8; -fx-border-radius:8;
                                                  -fx-border-color:#E4EBF5; -fx-padding:8 12; -fx-font-size:13px;"/>
                                <Label fx:id="locationErrorLabel" style="-fx-font-size:11px; -fx-text-fill:#DC2626;" managed="true" minHeight="0"/>
                            </VBox>
                            <VBox spacing="4">
                                <DatePicker fx:id="dateField" promptText="Date"
                                            style="-fx-background-radius:8; -fx-border-radius:8;
                                                   -fx-border-color:#E4EBF5; -fx-font-size:13px;"/>
                                <Label fx:id="dateErrorLabel" style="-fx-font-size:11px; -fx-text-fill:#DC2626;" managed="true" minHeight="0"/>
                            </VBox>
                            <VBox spacing="4">
                                <TextField fx:id="capacityField" prefWidth="110" promptText="CapacitÃ©"
                                           style="-fx-background-radius:8; -fx-border-radius:8;
                                                  -fx-border-color:#E4EBF5; -fx-padding:8 12; -fx-font-size:13px;"/>
                                <Label fx:id="capacityErrorLabel" style="-fx-font-size:11px; -fx-text-fill:#DC2626;" managed="true" minHeight="0"/>
                            </VBox>
                        </HBox>
                        <VBox spacing="4">
                            <TextArea fx:id="descriptionField" prefHeight="70" promptText="Description de l'Ã©vÃ©nement..."
                                      style="-fx-background-radius:8; -fx-border-radius:8;
                                             -fx-border-color:#E4EBF5; -fx-font-size:13px; -fx-padding:8 12;"/>
                            <Label fx:id="descriptionErrorLabel" style="-fx-font-size:11px; -fx-text-fill:#DC2626;" managed="true" minHeight="0"/>
                        </VBox>
                        <HBox spacing="10" alignment="CENTER_RIGHT">
                            <Button onAction="#handleClear" text="Vider"
                                    style="-fx-background-color:#F1F5F9; -fx-text-fill:#475569;
                                           -fx-background-radius:8; -fx-padding:8 16; -fx-cursor:hand;"/>
                            <Pane HBox.hgrow="ALWAYS"/>
                            <Button onAction="#handleDelete" text="ðŸ—‘  Supprimer"
                                    style="-fx-background-color:#FEF2F2; -fx-text-fill:#DC2626;
                                           -fx-font-weight:600; -fx-background-radius:8;
                                           -fx-border-color:#FECACA; -fx-border-width:1; -fx-border-radius:8;
                                           -fx-padding:8 16; -fx-cursor:hand;"/>
                            <Button onAction="#handleUpdate" text="âœ  Modifier"
                                    style="-fx-background-color:#FFF7ED; -fx-text-fill:#C2410C;
                                           -fx-font-weight:600; -fx-background-radius:8;
                                           -fx-border-color:#FED7AA; -fx-border-width:1; -fx-border-radius:8;
                                           -fx-padding:8 16; -fx-cursor:hand;"/>
                            <Button onAction="#handleAdd" text="âœš  Ajouter"
                                    style="-fx-background-color:#1565C0; -fx-text-fill:white;
                                           -fx-font-weight:700; -fx-background-radius:8;
                                           -fx-padding:8 20; -fx-cursor:hand;"/>
                        </HBox>
                    </VBox>
                </children>
            </VBox>

            <!-- â•â•â• ATTENDEES VIEW â•â•â• -->
            <VBox fx:id="interviewsView" spacing="20" visible="false" managed="false">
                <padding><Insets top="24" right="28" bottom="20" left="28"/></padding>
                <children>
                    <HBox alignment="CENTER_LEFT" spacing="12">
                        <Label text="ðŸ‘¥  Inscriptions / Postulants"
                               style="-fx-font-size:22px; -fx-font-weight:700; -fx-text-fill:#1E293B;"/>
                        <Pane HBox.hgrow="ALWAYS"/>
                        <Button text="â†»  Actualiser" onAction="#goToInterviews"
                                style="-fx-background-color:#EBF3FF; -fx-text-fill:#1565C0;
                                       -fx-font-weight:600; -fx-background-radius:8;
                                       -fx-padding:8 16; -fx-cursor:hand;
                                       -fx-border-color:#BBDEFB; -fx-border-width:1; -fx-border-radius:8;"/>
                        <Button text="â†  Retour aux Ã©vÃ©nements" onAction="#goToEvents"
                                style="-fx-background-color:#F8FAFF; -fx-text-fill:#475569;
                                       -fx-background-radius:8; -fx-padding:8 16; -fx-cursor:hand;
                                       -fx-border-color:#E4EBF5; -fx-border-width:1; -fx-border-radius:8;"/>
                    </HBox>
                    <TableView fx:id="attendeesTable" VBox.vgrow="ALWAYS"
                               style="-fx-background-color:white; -fx-background-radius:12;
                                      -fx-border-color:#E4EBF5; -fx-border-width:1; -fx-border-radius:12;">
                        <columns>
                            <TableColumn fx:id="eventTitleCol"    prefWidth="160" text="Ã‰vÃ©nement"/>
                            <TableColumn fx:id="candLastNameCol"  prefWidth="120" text="Nom"/>
                            <TableColumn fx:id="candFirstNameCol" prefWidth="120" text="PrÃ©nom"/>
                            <TableColumn fx:id="candEmailCol"     prefWidth="200" text="Email"/>
                            <TableColumn fx:id="statusCol"        prefWidth="110" text="Statut"/>
                            <TableColumn fx:id="regDateCol"       prefWidth="150" text="Date Inscription"/>
                        </columns>
                    </TableView>
                    <HBox alignment="CENTER_RIGHT" spacing="12"
                          style="-fx-background-color:white; -fx-background-radius:10;
                                 -fx-border-color:#E4EBF5; -fx-border-width:1; -fx-border-radius:10;
                                 -fx-padding:14 18;">
                        <Label text="Changer statut :"
                               style="-fx-font-size:13px; -fx-font-weight:600; -fx-text-fill:#334155;"/>
                        <ComboBox fx:id="registrationStatusCombo" prefWidth="160" promptText="Nouveau statut"/>
                        <Button onAction="#handleUpdateRegistrationStatus" text="Mettre Ã  jour"
                                style="-fx-background-color:#1565C0; -fx-text-fill:white;
                                       -fx-font-weight:700; -fx-background-radius:8;
                                       -fx-padding:8 20; -fx-cursor:hand;"/>
                    </HBox>
                </children>
            </VBox>
        </StackPane>
    </center>
</BorderPane>

