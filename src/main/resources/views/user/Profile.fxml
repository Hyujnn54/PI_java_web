<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Controllers.user.ProfileController"
            stylesheets="@../../styles.css"
            style="-fx-background-color: #EBF0F8;">

    <!-- TOP BAR -->
    <top>
        <VBox style="-fx-background-color:white; -fx-padding:18 28 14 28;
                     -fx-border-color:#E4EBF5; -fx-border-width:0 0 1 0;
                     -fx-effect:dropshadow(gaussian,rgba(91,163,245,0.08),10,0,0,2);">
            <HBox alignment="CENTER_LEFT" spacing="14">
                <VBox spacing="3" HBox.hgrow="ALWAYS">
                    <Label text="My Profile"
                           style="-fx-font-size:22px; -fx-font-weight:700; -fx-text-fill:#1E293B;"/>
                    <Label text="Manage your personal information and account security"
                           style="-fx-font-size:12px; -fx-text-fill:#64748B;"/>
                </VBox>
                <HBox spacing="10" alignment="CENTER_RIGHT">
                    <Label fx:id="lblStatus" text=""
                           style="-fx-font-size:12px; -fx-text-fill:#10B981; -fx-font-weight:600;"/>
                    <Button text="ðŸ’¾  Save Changes" onAction="#handleSave"
                            style="-fx-background-color:linear-gradient(to right,#5BA3F5,#4A90E2);
                                   -fx-text-fill:white; -fx-font-weight:700; -fx-font-size:13px;
                                   -fx-background-radius:10; -fx-padding:10 20; -fx-cursor:hand;
                                   -fx-effect:dropshadow(gaussian,rgba(91,163,245,0.4),10,0,0,3);"/>
                </HBox>
            </HBox>
        </VBox>
    </top>

    <!-- MAIN CONTENT -->
    <center>
        <ScrollPane fitToWidth="true"
                    style="-fx-background:transparent; -fx-background-color:transparent; -fx-border-color:transparent;">
            <VBox spacing="16" style="-fx-padding:24 28; -fx-background-color:#EBF0F8;">

                <!-- â”€â”€ Personal Info Card â”€â”€ -->
                <VBox spacing="0"
                      style="-fx-background-color:white; -fx-background-radius:14; -fx-padding:0;
                             -fx-border-color:#E4EBF5; -fx-border-width:1; -fx-border-radius:14;
                             -fx-effect:dropshadow(gaussian,rgba(91,163,245,0.09),12,0,0,3);">

                    <!-- Card Header -->
                    <HBox alignment="CENTER_LEFT" spacing="12"
                          style="-fx-background-color:#F8FAFF; -fx-background-radius:14 14 0 0;
                                 -fx-padding:16 20; -fx-border-color:#E4EBF5; -fx-border-width:0 0 1 0;">
                        <StackPane>
                            <Circle radius="16" style="-fx-fill:#EFF6FF;"/>
                            <Label text="ðŸ‘¤" style="-fx-font-size:14px;"/>
                        </StackPane>
                        <Label text="Personal Information"
                               style="-fx-font-size:14px; -fx-font-weight:800; -fx-text-fill:#1E293B;"/>
                    </HBox>

                    <!-- Card Body -->
                    <VBox spacing="16" style="-fx-padding:20 24 24 24;">
                        <HBox spacing="20">
                            <VBox spacing="6" HBox.hgrow="ALWAYS">
                                <Label text="First Name"
                                       style="-fx-font-size:12px; -fx-font-weight:700; -fx-text-fill:#374151;"/>
                                <TextField fx:id="tfFirstName" promptText="Your first name"
                                           style="-fx-font-size:13px; -fx-padding:10 12; -fx-background-radius:10;
                                                  -fx-border-radius:10; -fx-border-color:#E4EBF5; -fx-border-width:1.5;
                                                  -fx-background-color:#FAFBFE;"/>
                            </VBox>
                            <VBox spacing="6" HBox.hgrow="ALWAYS">
                                <Label text="Email Address"
                                       style="-fx-font-size:12px; -fx-font-weight:700; -fx-text-fill:#374151;"/>
                                <TextField fx:id="tfEmail" editable="false"
                                           style="-fx-font-size:13px; -fx-padding:10 12; -fx-background-radius:10;
                                                  -fx-border-radius:10; -fx-border-color:#E4EBF5; -fx-border-width:1.5;
                                                  -fx-background-color:#F1F5F9; -fx-text-fill:#94A3B8;"/>
                            </VBox>
                        </HBox>
                        <VBox spacing="6" maxWidth="300">
                            <Label text="Phone Number"
                                   style="-fx-font-size:12px; -fx-font-weight:700; -fx-text-fill:#374151;"/>
                            <TextField fx:id="tfPhone" promptText="e.g. 22 123 456"
                                       style="-fx-font-size:13px; -fx-padding:10 12; -fx-background-radius:10;
                                              -fx-border-radius:10; -fx-border-color:#E4EBF5; -fx-border-width:1.5;
                                              -fx-background-color:#FAFBFE;"/>
                        </VBox>
                    </VBox>
                </VBox>

                <!-- â”€â”€ Security Card â”€â”€ -->
                <VBox spacing="0"
                      style="-fx-background-color:white; -fx-background-radius:14; -fx-padding:0;
                             -fx-border-color:#E4EBF5; -fx-border-width:1; -fx-border-radius:14;
                             -fx-effect:dropshadow(gaussian,rgba(91,163,245,0.09),12,0,0,3);">
                    <HBox alignment="CENTER_LEFT" spacing="12"
                          style="-fx-background-color:#F8FAFF; -fx-background-radius:14 14 0 0;
                                 -fx-padding:16 20; -fx-border-color:#E4EBF5; -fx-border-width:0 0 1 0;">
                        <StackPane>
                            <Circle radius="16" style="-fx-fill:#EFF6FF;"/>
                            <Label text="ðŸ”’" style="-fx-font-size:14px;"/>
                        </StackPane>
                        <Label text="Security"
                               style="-fx-font-size:14px; -fx-font-weight:800; -fx-text-fill:#1E293B;"/>
                    </HBox>
                    <VBox spacing="16" style="-fx-padding:20 24 24 24;">
                        <VBox spacing="6" maxWidth="340">
                            <Label text="New Password"
                                   style="-fx-font-size:12px; -fx-font-weight:700; -fx-text-fill:#374151;"/>
                            <PasswordField fx:id="pfPassword" promptText="Leave empty to keep current password"
                                           style="-fx-font-size:13px; -fx-padding:10 12; -fx-background-radius:10;
                                                  -fx-border-radius:10; -fx-border-color:#E4EBF5; -fx-border-width:1.5;
                                                  -fx-background-color:#FAFBFE;"/>
                        </VBox>
                        <HBox spacing="12">
                            <Button fx:id="btnEnableFace" text="ðŸªª  Enable Face Login" onAction="#handleEnableFaceLogin"
                                    style="-fx-background-color:#F0FDF4; -fx-text-fill:#166534; -fx-font-weight:700;
                                           -fx-font-size:12px; -fx-background-radius:10; -fx-padding:10 16;
                                           -fx-border-color:#BBF7D0; -fx-border-width:1.5; -fx-border-radius:10;
                                           -fx-cursor:hand;"/>
                            <Button fx:id="btnDisableFace" text="ðŸš«  Disable Face Login" onAction="#handleDisableFaceLogin"
                                    style="-fx-background-color:#FFF1F2; -fx-text-fill:#9F1239; -fx-font-weight:700;
                                           -fx-font-size:12px; -fx-background-radius:10; -fx-padding:10 16;
                                           -fx-border-color:#FECDD3; -fx-border-width:1.5; -fx-border-radius:10;
                                           -fx-cursor:hand;"/>
                        </HBox>
                    </VBox>
                </VBox>

                <!-- â”€â”€ Recruiter Info Card â”€â”€ -->
                <VBox fx:id="recruiterBlock" spacing="0" visible="false" managed="false"
                      style="-fx-background-color:white; -fx-background-radius:14; -fx-padding:0;
                             -fx-border-color:#BFDBFE; -fx-border-width:1.5; -fx-border-radius:14;
                             -fx-effect:dropshadow(gaussian,rgba(91,163,245,0.09),12,0,0,3);">
                    <HBox alignment="CENTER_LEFT" spacing="12"
                          style="-fx-background-color:#EFF6FF; -fx-background-radius:14 14 0 0;
                                 -fx-padding:16 20; -fx-border-color:#BFDBFE; -fx-border-width:0 0 1.5 0;">
                        <StackPane>
                            <Circle radius="16" style="-fx-fill:#DBEAFE;"/>
                            <Label text="ðŸ¢" style="-fx-font-size:14px;"/>
                        </StackPane>
                        <Label text="Recruiter Information"
                               style="-fx-font-size:14px; -fx-font-weight:800; -fx-text-fill:#1D4ED8;"/>
                    </HBox>
                    <VBox spacing="16" style="-fx-padding:20 24 24 24;">
                        <HBox spacing="20">
                            <VBox spacing="6" HBox.hgrow="ALWAYS">
                                <Label text="Company Name"
                                       style="-fx-font-size:12px; -fx-font-weight:700; -fx-text-fill:#374151;"/>
                                <TextField fx:id="tfCompanyName" promptText="Your company"
                                           style="-fx-font-size:13px; -fx-padding:10 12; -fx-background-radius:10;
                                                  -fx-border-radius:10; -fx-border-color:#BFDBFE; -fx-border-width:1.5;
                                                  -fx-background-color:#FAFBFE;"/>
                            </VBox>
                            <VBox spacing="6" HBox.hgrow="ALWAYS">
                                <Label text="Company Location"
                                       style="-fx-font-size:12px; -fx-font-weight:700; -fx-text-fill:#374151;"/>
                                <TextField fx:id="tfCompanyLocation" promptText="City, Country"
                                           style="-fx-font-size:13px; -fx-padding:10 12; -fx-background-radius:10;
                                                  -fx-border-radius:10; -fx-border-color:#BFDBFE; -fx-border-width:1.5;
                                                  -fx-background-color:#FAFBFE;"/>
                            </VBox>
                        </HBox>
                    </VBox>
                </VBox>

                <!-- â”€â”€ Candidate Info Card â”€â”€ -->
                <VBox fx:id="candidateBlock" spacing="0" visible="false" managed="false"
                      style="-fx-background-color:white; -fx-background-radius:14; -fx-padding:0;
                             -fx-border-color:#BBF7D0; -fx-border-width:1.5; -fx-border-radius:14;
                             -fx-effect:dropshadow(gaussian,rgba(91,163,245,0.09),12,0,0,3);">
                    <HBox alignment="CENTER_LEFT" spacing="12"
                          style="-fx-background-color:#F0FDF4; -fx-background-radius:14 14 0 0;
                                 -fx-padding:16 20; -fx-border-color:#BBF7D0; -fx-border-width:0 0 1.5 0;">
                        <StackPane>
                            <Circle radius="16" style="-fx-fill:#D1FAE5;"/>
                            <Label text="ðŸ’¼" style="-fx-font-size:14px;"/>
                        </StackPane>
                        <Label text="Candidate Information"
                               style="-fx-font-size:14px; -fx-font-weight:800; -fx-text-fill:#166534;"/>
                    </HBox>
                    <VBox spacing="16" style="-fx-padding:20 24 24 24;">
                        <HBox spacing="20">
                            <VBox spacing="6" HBox.hgrow="ALWAYS">
                                <Label text="Location"
                                       style="-fx-font-size:12px; -fx-font-weight:700; -fx-text-fill:#374151;"/>
                                <TextField fx:id="tfCandidateLocation" promptText="Your city"
                                           style="-fx-font-size:13px; -fx-padding:10 12; -fx-background-radius:10;
                                                  -fx-border-radius:10; -fx-border-color:#BBF7D0; -fx-border-width:1.5;
                                                  -fx-background-color:#FAFBFE;"/>
                            </VBox>
                            <VBox spacing="6" HBox.hgrow="ALWAYS">
                                <Label text="Education Level"
                                       style="-fx-font-size:12px; -fx-font-weight:700; -fx-text-fill:#374151;"/>
                                <TextField fx:id="tfEducationLevel" promptText="Bachelor's, Master's..."
                                           style="-fx-font-size:13px; -fx-padding:10 12; -fx-background-radius:10;
                                                  -fx-border-radius:10; -fx-border-color:#BBF7D0; -fx-border-width:1.5;
                                                  -fx-background-color:#FAFBFE;"/>
                            </VBox>
                        </HBox>
                        <HBox spacing="20">
                            <VBox spacing="6" HBox.hgrow="ALWAYS">
                                <Label text="Experience (years)"
                                       style="-fx-font-size:12px; -fx-font-weight:700; -fx-text-fill:#374151;"/>
                                <TextField fx:id="tfExperienceYears" promptText="e.g. 3"
                                           style="-fx-font-size:13px; -fx-padding:10 12; -fx-background-radius:10;
                                                  -fx-border-radius:10; -fx-border-color:#BBF7D0; -fx-border-width:1.5;
                                                  -fx-background-color:#FAFBFE;"/>
                            </VBox>
                            <VBox spacing="6" HBox.hgrow="ALWAYS">
                                <Label text="CV Path (optional)"
                                       style="-fx-font-size:12px; -fx-font-weight:700; -fx-text-fill:#374151;"/>
                                <TextField fx:id="tfCvPath" promptText="C:\...\cv.pdf"
                                           style="-fx-font-size:13px; -fx-padding:10 12; -fx-background-radius:10;
                                                  -fx-border-radius:10; -fx-border-color:#BBF7D0; -fx-border-width:1.5;
                                                  -fx-background-color:#FAFBFE;"/>
                            </VBox>
                        </HBox>
                    </VBox>
                </VBox>

                <!-- Bottom spacer -->
                <Region minHeight="20"/>
            </VBox>
        </ScrollPane>
    </center>

</BorderPane>

