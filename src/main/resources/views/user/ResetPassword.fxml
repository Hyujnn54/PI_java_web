<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.shape.*?>

<HBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="Controllers.user.ResetPasswordController"
      stylesheets="@../../styles.css"
      style="-fx-background-color: #EBF0F8;">

    <!-- â•â• LEFT PANEL â•â• -->
    <VBox alignment="CENTER" spacing="24" prefWidth="380" minWidth="340"
          style="-fx-background-color: linear-gradient(to bottom right, #1E293B, #334155);
                 -fx-padding: 50 40;">
        <StackPane alignment="CENTER">
            <Circle radius="50" style="-fx-fill: rgba(91,163,245,0.18);"/>
            <Circle radius="38" style="-fx-fill: rgba(91,163,245,0.28);"/>
            <ImageView fitHeight="56" fitWidth="56" preserveRatio="true">
                <image><Image url="@../../images/logo.jpg"/></image>
            </ImageView>
        </StackPane>
        <VBox alignment="CENTER" spacing="8">
            <Label text="Talent Bridge"
                   style="-fx-font-size:28px; -fx-font-weight:800; -fx-text-fill:white;"/>
            <Label text="Set New Password"
                   style="-fx-font-size:13px; -fx-text-fill:rgba(255,255,255,0.65);"/>
        </VBox>
        <HBox alignment="CENTER" spacing="6">
            <Circle radius="3" style="-fx-fill:rgba(91,163,245,0.5);"/>
            <Circle radius="5" style="-fx-fill:#5BA3F5;"/>
            <Circle radius="3" style="-fx-fill:rgba(91,163,245,0.5);"/>
        </HBox>
        <VBox spacing="10"
              style="-fx-background-color:rgba(255,255,255,0.07); -fx-background-radius:12; -fx-padding:18 16;">
            <Label text="ðŸ›¡ï¸  Secure your account"
                   style="-fx-font-size:14px; -fx-font-weight:700; -fx-text-fill:white;"/>
            <Label text="Enter the code we sent to your email, then choose a strong new password."
                   style="-fx-font-size:12px; -fx-text-fill:rgba(255,255,255,0.65);" wrapText="true"/>
        </VBox>
        <Region VBox.vgrow="ALWAYS"/>
        <Label text="Â© 2026 Talent Bridge Â· All rights reserved."
               style="-fx-text-fill:rgba(255,255,255,0.30); -fx-font-size:11px;"/>
    </VBox>

    <!-- â•â• RIGHT PANEL â•â• -->
    <VBox alignment="CENTER" HBox.hgrow="ALWAYS"
          style="-fx-background-color: #EBF0F8; -fx-padding: 60 80;">
        <VBox spacing="28" maxWidth="420">

            <VBox spacing="6">
                <Label text="Create new password"
                       style="-fx-font-size:26px; -fx-font-weight:800; -fx-text-fill:#1E293B;"/>
                <Label text="Enter the code we sent you and your new password"
                       style="-fx-font-size:13px; -fx-text-fill:#64748B;"/>
            </VBox>

            <VBox spacing="20"
                  style="-fx-background-color:white; -fx-background-radius:16; -fx-padding:32;
                         -fx-border-color:#E4EBF5; -fx-border-width:1; -fx-border-radius:16;
                         -fx-effect:dropshadow(gaussian,rgba(91,163,245,0.12),18,0,0,4);">

                <!-- Icon -->
                <HBox alignment="CENTER" style="-fx-padding:0 0 8 0;">
                    <StackPane>
                        <Circle radius="32" style="-fx-fill:#EFF6FF;"/>
                        <Label text="ðŸ”‘" style="-fx-font-size:24px;"/>
                    </StackPane>
                </HBox>

                <!-- Email (readonly) -->
                <VBox spacing="6">
                    <Label text="Email address"
                           style="-fx-font-size:12px; -fx-font-weight:700; -fx-text-fill:#374151;"/>
                    <TextField fx:id="txtEmail" editable="false"
                               style="-fx-font-size:13px; -fx-padding:11 14; -fx-background-radius:10;
                                      -fx-border-radius:10; -fx-border-color:#E4EBF5; -fx-border-width:1.5;
                                      -fx-background-color:#F1F5F9; -fx-text-fill:#94A3B8;"/>
                </VBox>

                <!-- Code -->
                <VBox spacing="6">
                    <Label text="Verification code"
                           style="-fx-font-size:12px; -fx-font-weight:700; -fx-text-fill:#374151;"/>
                    <TextField fx:id="txtCode" promptText="Enter 6-digit code"
                               style="-fx-font-size:14px; -fx-padding:11 14; -fx-background-radius:10;
                                      -fx-border-radius:10; -fx-border-color:#E4EBF5; -fx-border-width:1.5;
                                      -fx-background-color:#FAFBFE; -fx-letter-spacing:4;"/>
                </VBox>

                <!-- New Password -->
                <VBox spacing="6">
                    <Label text="New password"
                           style="-fx-font-size:12px; -fx-font-weight:700; -fx-text-fill:#374151;"/>
                    <PasswordField fx:id="txtNewPassword" promptText="Min. 8 characters"
                                   style="-fx-font-size:13px; -fx-padding:11 14; -fx-background-radius:10;
                                          -fx-border-radius:10; -fx-border-color:#E4EBF5; -fx-border-width:1.5;
                                          -fx-background-color:#FAFBFE;"/>
                </VBox>

                <!-- Confirm Password -->
                <VBox spacing="6">
                    <Label text="Confirm new password"
                           style="-fx-font-size:12px; -fx-font-weight:700; -fx-text-fill:#374151;"/>
                    <PasswordField fx:id="txtConfirm" promptText="Repeat password"
                                   style="-fx-font-size:13px; -fx-padding:11 14; -fx-background-radius:10;
                                          -fx-border-radius:10; -fx-border-color:#E4EBF5; -fx-border-width:1.5;
                                          -fx-background-color:#FAFBFE;"/>
                </VBox>

                <Label fx:id="lblStatus"
                       style="-fx-font-size:12px; -fx-text-fill:#DC2626;" wrapText="true"/>

                <Button text="Reset Password â†’" onAction="#handleReset" maxWidth="Infinity"
                        style="-fx-background-color:linear-gradient(to right,#5BA3F5,#4A90E2);
                               -fx-text-fill:white; -fx-font-size:14px; -fx-font-weight:700;
                               -fx-padding:13; -fx-background-radius:10; -fx-cursor:hand;
                               -fx-effect:dropshadow(gaussian,rgba(91,163,245,0.45),14,0,0,3);">
                    <VBox.margin><Insets top="4"/></VBox.margin>
                </Button>
            </VBox>

            <HBox alignment="CENTER" spacing="6">
                <Label text="Back to"
                       style="-fx-text-fill:#64748B; -fx-font-size:13px;"/>
                <Hyperlink text="Sign In" onAction="#handleBackToLogin"
                           style="-fx-text-fill:#5BA3F5; -fx-font-size:13px; -fx-font-weight:700;
                                  -fx-border-color:transparent;"/>
            </HBox>

        </VBox>
    </VBox>

</HBox>

