<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>

<StackPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="Controllers.user.SignUpController"
           style="-fx-background-color: linear-gradient(to bottom right, #5BA3F5, #4A90E2);"
           stylesheets="@../../styles.css">

    <!-- Sign Up Card -->
    <VBox alignment="CENTER" spacing="0" maxWidth="500" maxHeight="700"
          style="-fx-background-color: white; -fx-background-radius: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 30, 0, 0, 10);">

        <padding>
            <Insets top="40" right="50" bottom="40" left="50"/>
        </padding>

        <!-- Logo and Title -->
        <VBox alignment="CENTER" spacing="10">
            <ImageView fitHeight="70" fitWidth="70" preserveRatio="true">
                <image>
                    <Image url="@images/logo.jpg"/>
                </image>
            </ImageView>

            <Label text="Create Account" style="-fx-font-size: 28px; -fx-font-weight: 700; -fx-text-fill: #2c3e50;"/>
            <Label text="Join Talent Bridge today!"
                   style="-fx-font-size: 14px; -fx-text-fill: #6c757d;"/>
        </VBox>

        <Region VBox.vgrow="SOMETIMES" minHeight="20"/>

        <!-- ScrollPane for Form -->
        <ScrollPane fitToWidth="true" style="-fx-background: transparent; -fx-background-color: transparent;"
                    VBox.vgrow="ALWAYS">
            <VBox spacing="18" style="-fx-padding: 10 5 10 0;">

                <!-- First Name -->
                <VBox spacing="8">
                    <Label text="First Name *" style="-fx-font-weight: 600; -fx-text-fill: #2c3e50; -fx-font-size: 13px;"/>
                    <TextField fx:id="txtFirstName" promptText="Enter your first name"
                               style="-fx-font-size: 14px; -fx-padding: 12; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #e9ecef;"/>
                </VBox>

                <!-- Last Name -->
                <VBox spacing="8">
                    <Label text="Last Name *" style="-fx-font-weight: 600; -fx-text-fill: #2c3e50; -fx-font-size: 13px;"/>
                    <TextField fx:id="txtLastName" promptText="Enter your last name"
                               style="-fx-font-size: 14px; -fx-padding: 12; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #e9ecef;"/>
                </VBox>

                <!-- Email -->
                <VBox spacing="8">
                    <Label text="Email *" style="-fx-font-weight: 600; -fx-text-fill: #2c3e50; -fx-font-size: 13px;"/>
                    <TextField fx:id="txtEmail" promptText="Enter your email"
                               style="-fx-font-size: 14px; -fx-padding: 12; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #e9ecef;"/>
                </VBox>

                <!-- Phone -->
                <VBox spacing="8">
                    <Label text="Phone Number" style="-fx-font-weight: 600; -fx-text-fill: #2c3e50; -fx-font-size: 13px;"/>
                    <TextField fx:id="txtPhone" promptText="Enter your phone number"
                               style="-fx-font-size: 14px; -fx-padding: 12; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #e9ecef;"/>
                </VBox>

                <!-- Password -->
                <VBox spacing="8">
                    <Label text="Password *" style="-fx-font-weight: 600; -fx-text-fill: #2c3e50; -fx-font-size: 13px;"/>
                    <PasswordField fx:id="txtPassword" promptText="Create a password"
                                   style="-fx-font-size: 14px; -fx-padding: 12; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #e9ecef;"/>
                </VBox>

                <!-- Confirm Password -->
                <VBox spacing="8">
                    <Label text="Confirm Password *" style="-fx-font-weight: 600; -fx-text-fill: #2c3e50; -fx-font-size: 13px;"/>
                    <PasswordField fx:id="txtConfirmPassword" promptText="Confirm your password"
                                   style="-fx-font-size: 14px; -fx-padding: 12; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #e9ecef;"/>
                </VBox>

                <!-- Role Selection -->
                <VBox spacing="8">
                    <Label text="I am a *" style="-fx-font-weight: 600; -fx-text-fill: #2c3e50; -fx-font-size: 13px;"/>
                    <ComboBox fx:id="cbRole" promptText="Select your role" maxWidth="Infinity"
                              style="-fx-font-size: 14px; -fx-background-radius: 8;"/>
                </VBox>

                <!-- Terms & Conditions -->
                <CheckBox fx:id="cbTerms" text="I agree to the Terms and Conditions"
                          style="-fx-text-fill: #6c757d; -fx-font-size: 13px;" wrapText="true"/>

                <VBox fx:id="recruiterBlock" spacing="10" visible="false" managed="false">
                    <Label text="Recruiter Information"/>
                    <TextField fx:id="txtCompanyName" promptText="Company Name"/>
                    <Label text="Company location:"/>
                    <TextField fx:id="txtCompanyLocation" promptText="Type a city/address..."/>

                    <ListView fx:id="lvLocationSuggestions" visible="false" managed="false" maxHeight="120"/>

                    <Button text="ðŸ“ Pick" onAction="#handlePickRecruiterLocation"
                            style="-fx-background-color:#2d8cff; -fx-text-fill:white; -fx-font-weight:bold;"/>
                </VBox>

                <VBox fx:id="candidateBlock" spacing="10" visible="false" managed="false">
                    <Label text="Candidate Information"/>
                    <TextField fx:id="txtCandidateLocation" promptText="Location"/>
                    <TextField fx:id="txtEducationLevel" promptText="Education Level"/>
                    <TextField fx:id="txtExperienceYears" promptText="Experience Years (number)"/>
                    <TextField fx:id="txtCvPath" promptText="CV Path (optional)"/>
                </VBox>


                <!-- Sign Up Button -->
                <Button fx:id="btnSignUp" text="Sign Up" onAction="#handleSignUp" maxWidth="Infinity"
                        style="-fx-background-color: #28a745; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: 700; -fx-padding: 14; -fx-background-radius: 8; -fx-cursor: hand;">
                    <VBox.margin>
                        <Insets top="10"/>
                    </VBox.margin>
                </Button>

                <!-- Login Link -->
                <HBox alignment="CENTER" spacing="5" style="-fx-padding: 5 0 0 0;">
                    <Label text="Already have an account?" style="-fx-text-fill: #6c757d; -fx-font-size: 13px;"/>
                    <Hyperlink fx:id="linkLogin" text="Login" onAction="#handleShowLogin"
                               style="-fx-text-fill: #5BA3F5; -fx-font-size: 13px; -fx-font-weight: 600;"/>
                </HBox>

            </VBox>
        </ScrollPane>

    </VBox>

</StackPane>

