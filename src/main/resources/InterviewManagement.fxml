<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="Controllers.InterviewManagementController"
      spacing="25" style="-fx-background-color: #f8f9fa; -fx-padding: 25;">

    <!-- Header Section -->
    <HBox alignment="CENTER_LEFT" spacing="15">
        <Label text="ðŸ“‹ My Interviews" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
        <Region HBox.hgrow="ALWAYS"/>
        <!-- Only visible for recruiter -->
        <Button fx:id="btnScheduleNew" text="+ Schedule Interview" visible="false" managed="false"
                styleClass="btn-primary" onAction="#handleScheduleNew"/>
    </HBox>

    <!-- Interview Cards Container -->
    <ScrollPane fitToWidth="true" style="-fx-background: transparent; -fx-background-color: transparent;">
        <VBox fx:id="interviewsListContainer" spacing="20">
            <!-- Cards will be dynamically added here -->
        </VBox>
    </ScrollPane>

    <!-- Bottom Action Buttons (appear when interview is selected) -->
    <HBox fx:id="bottomActionButtons" spacing="15" alignment="CENTER_RIGHT"
          visible="false" managed="false"
          style="-fx-padding: 20 0 0 0;">
        <Button fx:id="btnUpdate" text="âœï¸ Update Interview" styleClass="btn-primary"
                onAction="#handleUpdateInterview"/>
        <Button fx:id="btnDelete" text="ðŸ—‘ï¸ Delete Interview" styleClass="btn-danger"
                onAction="#handleDeleteInterview"/>
    </HBox>

    <!-- Modern Add/Edit Dialog (Hidden by default) -->
    <VBox fx:id="editDialog" visible="false" managed="false" spacing="15"
          style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 20, 0, 0, 5);">

        <Label text="Interview Details" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

        <GridPane hgap="15" vgap="15">
            <columnConstraints>
                <ColumnConstraints minWidth="120" prefWidth="120"/>
                <ColumnConstraints/>
            </columnConstraints>

            <!-- Date and Time -->
            <Label text="Date and Time:" GridPane.columnIndex="0" GridPane.rowIndex="0" styleClass="info-label"/>
            <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="0">
                <DatePicker fx:id="datePicker" prefWidth="150" styleClass="dialog-input"/>
                <TextField fx:id="txtTime" promptText="HH:mm" prefWidth="80" styleClass="dialog-input"/>
            </HBox>

            <!-- Duration -->
            <Label text="Duration:" GridPane.columnIndex="0" GridPane.rowIndex="1" styleClass="info-label"/>
            <TextField fx:id="txtDuration" promptText="Minutes" prefWidth="100" GridPane.columnIndex="1" GridPane.rowIndex="1" styleClass="dialog-input"/>

            <!-- Mode -->
            <Label text="Mode:" GridPane.columnIndex="0" GridPane.rowIndex="2" styleClass="info-label"/>
            <ComboBox fx:id="comboMode" prefWidth="200" GridPane.columnIndex="1" GridPane.rowIndex="2" styleClass="dialog-input"/>

            <!-- Application ID (Hidden from user, for internal use) -->
            <TextField fx:id="txtApplicationId" visible="false" managed="false"/>
            <TextField fx:id="txtRecruiterId" visible="false" managed="false"/>
            <ComboBox fx:id="comboStatus" visible="false" managed="false"/>
        </GridPane>

        <!-- Action Buttons -->
        <HBox spacing="10" alignment="CENTER_RIGHT">
            <Button text="Cancel" onAction="#handleCancelEdit" styleClass="btn-secondary"/>
            <Button fx:id="btnSave" text="Save" onAction="#handleSaveInterview" styleClass="btn-primary"/>
        </HBox>
    </VBox>

</VBox>
