<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.RecruiterDashboardController" stylesheets="@../style/modern.css">
   <top>
      <HBox styleClass="top-bar" alignment="CENTER_RIGHT" spacing="15.0">
         <children>
            <VBox alignment="CENTER_RIGHT">
               <children>
                  <Label fx:id="userNameLabel" text="User Name" styleClass="user-name" />
                  <Label fx:id="userRoleLabel" text="ROLE" styleClass="badge-role" />
               </children>
            </VBox>
            <Button text="ðŸ‘¤" styleClass="profile-button" />
         </children>
         <padding>
            <Insets left="30.0" right="30.0" top="10.0" bottom="10.0" />
         </padding>
      </HBox>
   </top>
   <left>
      <VBox styleClass="sidebar" prefWidth="250.0" BorderPane.alignment="CENTER">
         <children>
            <Label text="Talent Bridge" styleClass="sidebar-title">
               <graphic>
                  <!-- You can add an ImageView here if you have an icon -->
               </graphic>
            </Label>
            
            <Label text="MENU" styleClass="sidebar-section-label" />
            <Button fx:id="interviewsBtn" text="ðŸ‘¥  Interviews" onAction="#goToInterviews" styleClass="sidebar-button" maxWidth="Infinity" alignment="CENTER_LEFT" />
            <Button fx:id="eventsBtn" text="ðŸ“…  Events" onAction="#goToEvents" styleClass="sidebar-button-active" maxWidth="Infinity" alignment="CENTER_LEFT" />
            <Button text="ðŸ‘¤  Candidates (Mock)" onAction="#goToCandidateView" styleClass="sidebar-button" maxWidth="Infinity" alignment="CENTER_LEFT" />
            
            <Label text="OTHERS" styleClass="sidebar-section-label">
               <VBox.margin>
                  <Insets top="20.0" />
               </VBox.margin>
            </Label>
            <Button text="âš™ï¸  Settings" onAction="#goToSettings" styleClass="sidebar-button" maxWidth="Infinity" alignment="CENTER_LEFT" />
            
            <Pane VBox.vgrow="ALWAYS" /> <!-- Spacer -->
            
            <Button text="Fullscreen" styleClass="sidebar-bottom-button" maxWidth="Infinity">
               <VBox.margin>
                  <Insets bottom="20.0" left="20.0" right="20.0" />
               </VBox.margin>
            </Button>
         </children>
      </VBox>
   </left>
   
   <center>
      <BorderPane styleClass="content-area">
         <center>
            <javafx.scene.layout.StackPane>
                <VBox fx:id="eventsView" spacing="20.0">
                   <padding>
                      <Insets top="20.0" right="30.0" bottom="20.0" left="30.0" />
                   </padding>
                   <children>
                      <HBox alignment="CENTER_LEFT" spacing="10.0">
                         <children>
                            <Label text="Mes Ã‰vÃ©nements" styleClass="page-title" />
                            <Pane HBox.hgrow="ALWAYS" />
                            <Button text="RafraÃ®chir" onAction="#goToEvents" styleClass="btn-secondary" />
                            <Button text="+ CrÃ©er un Ã‰vÃ©nement" onAction="#handleClear" styleClass="btn-primary" />
                         </children>
                      </HBox>
                      
                      <ScrollPane fitToHeight="true" minHeight="250.0" prefHeight="300.0" styleClass="modern-scroll-pane" vbarPolicy="NEVER">
                         <content>
                            <HBox fx:id="eventsHBox" spacing="20.0" styleClass="events-container">
                               <padding>
                                  <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                               </padding>
                            </HBox>
                         </content>
                      </ScrollPane>
                      
                      <VBox fx:id="formContainer" spacing="10.0" styleClass="card">
                         <Label text="GÃ©rer l'Ã©vÃ©nement" styleClass="section-title"/>
                           <HBox spacing="10.0" alignment="CENTER_LEFT">
                              <children>
                                 <VBox HBox.hgrow="ALWAYS">
                                    <TextField fx:id="titleField" promptText="Titre" styleClass="modern-text-field" />
                                    <Label fx:id="titleErrorLabel" managed="true" minHeight="0" styleClass="error-label" />
                                 </VBox>
                                 <VBox>
                                    <ComboBox fx:id="typeCombo" prefWidth="150.0" promptText="Type" styleClass="modern-combo-box" />
                                    <Label fx:id="typeErrorLabel" managed="true" minHeight="0" styleClass="error-label" />
                                 </VBox>
                              </children>
                           </HBox>
                           <HBox spacing="10.0">
                              <children>
                                 <VBox HBox.hgrow="ALWAYS">
                                    <TextField fx:id="locationField" promptText="Lieu" styleClass="modern-text-field" />
                                    <Label fx:id="locationErrorLabel" managed="true" minHeight="0" styleClass="error-label" />
                                 </VBox>
                                 <VBox>
                                    <DatePicker fx:id="dateField" promptText="Date" styleClass="modern-date-picker" />
                                    <Label fx:id="dateErrorLabel" managed="true" minHeight="0" styleClass="error-label" />
                                 </VBox>
                                 <VBox>
                                    <TextField fx:id="capacityField" prefWidth="100.0" promptText="CapacitÃ©" styleClass="modern-text-field" />
                                    <Label fx:id="capacityErrorLabel" managed="true" minHeight="0" styleClass="error-label" />
                                 </VBox>
                              </children>
                           </HBox>
                           <VBox>
                              <TextArea fx:id="descriptionField" prefHeight="60.0" promptText="Description" styleClass="modern-text-area" />
                              <Label fx:id="descriptionErrorLabel" managed="true" minHeight="0" styleClass="error-label" />
                           </VBox>
                           <HBox spacing="10.0" alignment="CENTER_RIGHT">
                              <children>
                                 <Button mnemonicParsing="false" onAction="#handleClear" text="Vider" styleClass="btn-secondary" />
                                 <Pane HBox.hgrow="ALWAYS" />
                                 <Button mnemonicParsing="false" onAction="#handleDelete" text="Supprimer" styleClass="btn-danger" />
                                 <Button mnemonicParsing="false" onAction="#handleUpdate" text="Modifier" styleClass="btn-warning" />
                                 <Button mnemonicParsing="false" onAction="#handleAdd" text="Ajouter l'Ã©vÃ©nement" styleClass="btn-primary" />
                              </children>
                           </HBox>
                      </VBox>
                   </children>
                </VBox>

                <VBox fx:id="interviewsView" spacing="20.0" visible="false" managed="false">
                   <padding>
                      <Insets top="20.0" right="30.0" bottom="20.0" left="30.0" />
                   </padding>
                   <children>
                      <HBox alignment="CENTER_LEFT" spacing="10.0">
                         <children>
                            <Label text="Inscriptions / Postulants" styleClass="page-title" />
                            <Pane HBox.hgrow="ALWAYS" />
                            <Button text="RafraÃ®chir" onAction="#goToInterviews" styleClass="btn-secondary" />
                         </children>
                      </HBox>
                       <TableView fx:id="attendeesTable" VBox.vgrow="ALWAYS" styleClass="modern-table">
                         <columns>
                           <TableColumn fx:id="eventTitleCol" prefWidth="150.0" text="Ã‰vÃ©nement" />
                           <TableColumn fx:id="candLastNameCol" prefWidth="120.0" text="Nom" />
                           <TableColumn fx:id="candFirstNameCol" prefWidth="120.0" text="PrÃ©nom" />
                           <TableColumn fx:id="candEmailCol" prefWidth="180.0" text="Email" />
                           <TableColumn fx:id="statusCol" prefWidth="100.0" text="Statut" />
                           <TableColumn fx:id="regDateCol" prefWidth="140.0" text="Date Inscr." />
                         </columns>
                       </TableView>
                      <HBox alignment="CENTER_RIGHT" spacing="10.0">
                         <children>
                            <Label text="Changer Statut:" styleClass="label-header" />
                            <ComboBox fx:id="registrationStatusCombo" prefWidth="150.0" promptText="Statut" styleClass="modern-combo-box" />
                            <Button onAction="#handleUpdateRegistrationStatus" styleClass="btn-primary" text="Mettre Ã  jour" />
                         </children>
                         <padding>
                            <Insets bottom="10.0" left="15.0" right="15.0" top="10.0" />
                         </padding>
                      </HBox>
                   </children>
                </VBox>
            </javafx.scene.layout.StackPane>
         </center>
      </BorderPane>
   </center>
</BorderPane>
